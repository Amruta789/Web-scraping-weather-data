<!DOCTYPE html>
<html>
  <head>
    <title>Register</title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <script>
      function checkPasswords(){
          if(document.getElementById('password').value !== document.getElementById('cpassword').value){
              document.getElementById('error').innerText='Password and confirm password should match';
              return false;
          }else{
              document.getElementById('error').innerText='';
              return true;
          }
      }
  </script>
  </head>
  <body>
    <h1>Register</h1>
    <!-- Display error message like username already exists-->
    <% if(message){ %>            
      <span style="color: red;"><%= message %></span><br><br>
    <% } %>
    <form method="POST" action="/signup">
      <label for="username">Username:</label>
      <input type="text" name="username" id="username" required><br><br>
      <label for="password">Password:</label>
      <input type="password" name="password" id="password" minlength="6" required><br><br>
      <label for="cpassword">Confirm Password:</label>
      <input type="password" name="cpassword" id="cpassword" minlength="6" required onchange="checkPasswords()"><br><br>
      <span id="error" style="color: red;"></span><br><br>
      <label for="phone">Phone:</label>
      <input type="tel" name="phone" id="phone" pattern="^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\s\./0-9]*$" required><br><br>
      <label for="email">Email:</label>
      <input type="email" name="email" id="email" pattern="^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$" required><br><br>
      <input type="submit" value="Submit">
    </form>
  </body>
</html>